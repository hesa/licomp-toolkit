{
  "$schema" : "http://json-schema.org/draft-07/schema#",
  "$id" : "",
  "title" : "Licomp Toolkit Reply",
  "type" : "object",
  "properties" : {
    "compatibility_report": {
      "type" : "object",
      "$ref": "#/$defs/compatibility_object"
    },
    "outbound" : {
      "$ref": "#/$defs/license",
      "description" : "The outbound license expression."
    },
    "inbound" : {
      "$ref": "#/$defs/license",
      "description" : "The inbound license expression."
    },
    "usecase" : {
      "type" : "string",
      "enum": ["library", "compiler", "snippet", "tool", "test"],
      "description" : "Usecase for the compatibility check, e.g. library (as in using the inbound licensed component as a library)"
    },
    "provisioning" : {
      "type" : "string",
      "enum": ["source-code-distribution", "binary-distribution", "local-use", "provide-service", "provide-webui"],
      "description" : "The way the component is provided to the user for the compatibility check, e.g. binary-distribution"
    },
    "modification" : {
      "type" : "string",
      "description" : "Has the component been modified. Currently not used/implemented.",
      "enum": [ "unmodified", "modified"]
    },
    "compatibility" : {
      "$ref": "#/$defs/compatibility",
      "description" : "The inbound license expression."
    }
  },
  "required" : [ "compatibility_report", "compatibility", "outbound", "inbound" , "usecase" ],
  "additionalProperties" : false,
  "$defs": {
    "compatibility_object": {
      "type" : "object",
      "oneOf": [
        {
          "properties": {
            "compatibility": {
              "$ref": "#/$defs/compatibility",
              "description" : "The inbound license expression."
            },
            "compatibility_type": {
              "enum": [ "license" ],
              "description": "Describing what is being checked. Can be either expression or license. In this case the value is \"license\"."
            },
            "compatibility_check": {
              "$ref": "#/$defs/compatibility_check"
            },
            "inbound_license": {
              "$ref": "#/$defs/license",
              "description" : "The inbound license expression."
            },
            "outbound_license": {
              "$ref": "#/$defs/license",
              "description" : "The outbound license expression."
            },
            "compatibility_object": {
              "type" : "object",
              "anyOf": [
                {
                  "$ref": "#/$defs/compatibility_object"
                },
                {
                  "properties": {}
                }
              ]
            }
          },
          "required": [ "compatibility", "compatibility_type", "compatibility_check", "inbound_license" , "outbound_license", "compatibility_object"],
          "additionalProperties" : false
        },
        {
          "properties": {
            "compatibility" : {
              "$ref": "#/$defs/compatibility",
              "description" : "The inbound license expression."
            },
            "compatibility_type": {
              "enum": [ "expression" ],
              "description": "Describing what is being checked. Can be either expression or license. In this case the value is \"expression\"."
            },
            "compatibility_check": {
              "$ref": "#/$defs/compatibility_check"
            },
            "inbound_license": {
              "$ref": "#/$defs/license",
              "description" : "The inbound license expression."
            },
            "outbound_license": {
              "$ref": "#/$defs/license",
              "description" : "The inbound license expression."
            },
            "operator": {
              "enum": [ "AND", "OR" ],
              "description" : "The logical operator between two license expressions."
            },
            "operands": {
              "type": "array",
              "items": {
                "compatibility_object": {
                  "type" : "object",
                  "$ref": "#/$defs/compatibility_object"
                },
                "compatibility": { "type": "string" }
              },
              "description": "The operands for the operator. The operands can be either a license or an operator."
            }
          },
          "required": [ "compatibility", "compatibility_type", "compatibility_check", "inbound_license" , "outbound_license" , "operator", "operands" ],
          "additionalProperties" : false
        }
      ]
    },
    "compatibility" : {
      "type" : "string",
      "enum": [ "yes", "no", "depends", "unknown", "unsupported", "mixed", null],
      "description" : "The compatbility between the Outbound and Inbound license expressions"
    },
    "license" : {
      "type" : "string",
      "minLength": 1
    },
    "compatibility_check": {
      "type": "string",
      "enum": [
        "outbound-expression -> inbound-expression",
        "outbound-expression -> inbound-license",
        "outbound-license -> inbound-expression",
        "outbound-license -> inbound-license"
      ],
      "description" : "A text describing if outbound license or expression is checked for compatiblility against inbound license or expression."
    }
  }
}
